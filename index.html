<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gift List â€“ 3D Background</title>
  <style>
    body { margin: 0; overflow: hidden; }
    #bg { position: fixed; top:0; left:0; width:100%; height:100%; z-index: -1; }
    .ui {
      position: relative;
      z-index: 1;
      font-family: sans-serif;
      padding: 50px;
      max-width: 500px;
      margin: auto;
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    .ui h1 { text-align: center; color: #333; }
    .ui input { width:70%; padding:10px; }
    .ui button { padding:10px; }
    .ui ul { list-style:none; padding:0; }
    .ui li { margin:8px 0; display:flex; justify-content:space-between; }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>
  <div class="ui">
    <h1>Gift List</h1>
    <input type="text" id="giftInput" placeholder="Gift name | URL">
    <button id="addBtn">Add</button>
    <ul id="giftList"></ul>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r181/three.min.js"></script>
  <script>
    // === Three.js background setup ===
    const canvas = document.getElementById('bg');
    const renderer = new THREE.WebGLRenderer({canvas, antialias:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.z = 5;

    // simple geometry: floating particles / points
    const geometry = new THREE.BufferGeometry();
    const count = 5000;
    const positions = new Float32Array(count * 3);
    for (let i=0; i<count; i++) {
      positions[i*3 + 0] = (Math.random() - 0.5) * 20;
      positions[i*3 + 1] = (Math.random() - 0.5) * 20;
      positions[i*3 + 2] = (Math.random() - 0.5) * 20;
    }
    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    const material = new THREE.PointsMaterial({ color: 0xff8c42, size: 0.1, transparent:true, opacity:0.6 });
    const points = new THREE.Points(geometry, material);
    scene.add(points);

    function animate() {
      requestAnimationFrame(animate);
      points.rotation.y += 0.0005;
      points.rotation.x += 0.0003;
      renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
    });

    // === Gift list logic ===
    const input = document.getElementById('giftInput');
    const addBtn = document.getElementById('addBtn');
    const list = document.getElementById('giftList');
    addBtn.onclick = addGift;
    input.addEventListener('keypress', e => { if (e.key === 'Enter') addGift(); });

    function addGift(){
      const val = input.value.trim();
      if (!val) return;
      const [name, url] = val.split('|').map(s=>s.trim());
      const li = document.createElement('li');
      li.innerHTML = `<a href="${url||'#'}" target="_blank">${name}</a> <button>&times;</button>`;
      li.querySelector('button').onclick = () => li.remove();
      list.appendChild(li);
      input.value = '';
    }
  </script>
</body>
</html>
