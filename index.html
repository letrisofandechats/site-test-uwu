<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Gift List</title>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI',sans-serif;}
body, html {width:100%; height:100%; overflow:hidden; background:#111;}
.gift-panel {
  position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);
  backdrop-filter: blur(12px); background: rgba(255,255,255,0.05);
  border-radius:20px; box-shadow:0 10px 30px rgba(0,0,0,0.5);
  padding:30px; width:90%; max-width:400px; color:#fff; z-index:10;
  perspective:1000px; transition: transform 0.2s ease;
}
.gift-panel h1 {text-align:center; font-size:2em; margin-bottom:20px; animation:floatTitle 3s ease-in-out infinite alternate;}
@keyframes floatTitle {0%{transform:translateY(0);} 100%{transform:translateY(-10px);}}
form {display:flex; gap:10px; margin-bottom:20px;}
input[type="text"] {flex:1; padding:10px; border-radius:10px; border:2px solid transparent; outline:none; background:rgba(255,255,255,0.1); color:#fff; transition:border-color 0.2s;}
input::placeholder {color:#ddd;}
button {padding:10px 15px; border-radius:10px; border:none; cursor:pointer; background:linear-gradient(135deg,#ff7e5f,#feb47b); color:#fff; font-weight:bold; transition: transform 0.2s, box-shadow 0.2s;}
button:hover {transform:scale(1.05); box-shadow:0 5px 15px rgba(255,255,255,0.3);}
ul {list-style:none; max-height:300px; overflow-y:auto; padding-right:5px;}
li {background:rgba(255,255,255,0.05); margin-bottom:10px; padding:10px; border-radius:10px; display:flex; justify-content:space-between; align-items:center; transition: transform 0.3s, background 0.3s, box-shadow 0.3s;}
li:hover {transform:scale(1.03); background:rgba(255,255,255,0.2); box-shadow:0 5px 15px rgba(255,255,255,0.2);}
li a {color:#fff; text-decoration:none; flex:1; margin-right:10px;}
li button {padding:5px 8px; border-radius:8px; border:none; background:linear-gradient(135deg,#43cea2,#185a9d); cursor:pointer; transition: transform 0.2s;}
li button:hover {transform:scale(1.1);}
ul::-webkit-scrollbar {width:8px;}
ul::-webkit-scrollbar-thumb {background: rgba(255,255,255,0.2); border-radius:10px;}
@media(max-width:768px){.gift-panel{padding:20px;width:95%;}h1{font-size:1.5em;}}
</style>
</head>
<body>

<div class="gift-panel">
  <h1>My Gift List</h1>
  <form id="giftForm">
    <input type="text" id="giftName" placeholder="Gift name" required>
    <input type="text" id="giftURL" placeholder="Gift URL" required>
    <button type="submit">Add</button>
  </form>
  <ul id="giftList"></ul>
</div>

<canvas id="bgCanvas"></canvas>

<script>
// Gift List JS
const giftForm = document.getElementById('giftForm');
const giftList = document.getElementById('giftList');
giftForm.addEventListener('submit', e => {
  e.preventDefault();
  const nameInput = document.getElementById('giftName');
  const urlInput = document.getElementById('giftURL');
  const name = nameInput.value.trim();
  let url = urlInput.value.trim();
  nameInput.style.borderColor=''; urlInput.style.borderColor='';

  if(!name){nameInput.style.borderColor='red'; nameInput.focus(); return;}
  if(!url){urlInput.style.borderColor='red'; urlInput.focus(); return;}
  if(!/^https?:\/\//i.test(url)) url = /^www\./i.test(url)?'https://'+url:'https://'+url;
  try{ new URL(url); } catch{ urlInput.style.borderColor='red'; urlInput.focus(); return;}
  const existing = Array.from(giftList.querySelectorAll('li a')).some(a=>a.textContent.toLowerCase()===name.toLowerCase());
  if(existing){nameInput.style.borderColor='red'; nameInput.focus(); return;}

  const li=document.createElement('li');
  const a=document.createElement('a'); a.href=url; a.target="_blank"; a.rel="noopener noreferrer"; a.textContent=name;
  const btn=document.createElement('button'); btn.textContent='Remove'; btn.addEventListener('click',()=>li.remove());
  li.appendChild(a); li.appendChild(btn); giftList.appendChild(li);
  giftForm.reset();
});

// Three.js 3D Gift Boxes Background
let scene, camera, renderer;
const boxes=[];
const canvas=document.getElementById('bgCanvas');

function randomColor(){
  const colors=[0xff6f61,0xffd700,0x6a5acd,0xff69b4,0x20b2aa];
  return colors[Math.floor(Math.random()*colors.length)];
}

function init(){
  scene=new THREE.Scene();
  camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,0.1,1000);
  camera.position.z=12;

  renderer=new THREE.WebGLRenderer({canvas,alpha:true,antialias:true});
  renderer.setSize(window.innerWidth,window.innerHeight);
  renderer.setPixelRatio(window.devicePixelRatio);

  const ambient=new THREE.AmbientLight(0xffffff,0.6); scene.add(ambient);
  const point=new THREE.PointLight(0xffffff,1); point.position.set(10,10,10); scene.add(point);

  // Create gift boxes
  const boxCount=30;
  for(let i=0;i<boxCount;i++){
    const size=Math.random()*0.5+0.3;
    const geometry=new THREE.BoxGeometry(size,size,size);
    const material=new THREE.MeshStandardMaterial({color:randomColor(), metalness:0.5, roughness:0.3});
    const box=new THREE.Mesh(geometry, material);
    box.position.set(Math.random()*20-10, Math.random()*15-7.5, Math.random()*20-10);
    box.rotation.set(Math.random()*Math.PI, Math.random()*Math.PI, Math.random()*Math.PI);
    box.userData={speed:0.002+Math.random()*0.003, sway:Math.random()*0.5};
    boxes.push(box); scene.add(box);
  }
}

function animate(){
  requestAnimationFrame(animate);
  boxes.forEach(box=>{
    box.position.y+=box.userData.speed;
    box.position.x+=Math.sin(Date.now()*0.001+box.userData.sway)*0.002;
    if(box.position.y>10) box.position.y=-10;
    box.rotation.x+=0.002; box.rotation.y+=0.003;
  });
  renderer.render(scene,camera);
}

// Mouse parallax
document.addEventListener('mousemove', e=>{
  const x=(e.clientX/window.innerWidth-0.5)*2;
  const y=(e.clientY/window.innerHeight-0.5)*2;
  camera.position.x+=(x*5-camera.position.x)*0.05;
  camera.position.y+=(-y*5-camera.position.y)*0.05;
});

// Resize
window.addEventListener('resize',()=>{
  camera.aspect=window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth,window.innerHeight);
});

init(); animate();
</script>

</body>
</html>
